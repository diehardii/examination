<template>
  <div class="app-container">
    <SideBarMenu />
    <div class="main-content">
  <div class="paper-container">

    <h1 class="header">请选择你要考的试卷</h1>
    <div class="paper-section">
      <h3 class="sticky-title">我的试卷</h3>
      <div class="paper-list">
        <table>
          <thead>
          <tr>
            <th>试卷ID</th>
            <th>试卷名称</th>
            <th>试卷内容</th>
            <th>难度</th>
            <th>科目</th>
          </tr>
          </thead>
          <tbody>
          <tr v-for="paper in papers"
              :key="paper.id"
              :class="{highlight: selectedPaperId === paper.id}"
              @click="selectPaper(paper.id)">
            <td>{{ paper.id }}</td>
            <td>{{ paper.examPaperName }}</td>
            <td>{{ paper.examPaperContent }}</td>
            <td>{{ paper.examPaperDifficulty }}</td>
            <td>{{ paper.examPaperSubject }}</td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="submit-btn-container">
        <button class="submit-btn" @click="confirmSelection">确认</button>
      </div>
    </div>
  </div>
    </div>
  </div>
</template>

<script>
import SideBarMenu from '@/components/SideBarMenu.vue';
import {getUserExamPapers} from '@/service/userExamPaperService';

export default {
  name: 'PaperTest',
  components: {
    SideBarMenu
  },
  data() {
    return {
      papers: [],
      selectedPaperId: null,
      currentUser: JSON.parse(localStorage.getItem('user') || '{}')
    };
  },
  async created() {
    const username = this.currentUser.username;
    console.log(username);
    this.papers = await getUserExamPapers(username);
    if (this.papers.length > 0) {
      this.selectedPaperId = this.papers[0].id;
    }
  },
  methods: {
    selectPaper(paperId) {
      this.selectedPaperId = paperId;
    },
    confirmSelection() {
      if (!this.selectedPaperId) {
        alert('请先选择一份试卷');
        return;
      }
      this.$router.push({ name: 'QuestionAnswer', params: { paperId: this.selectedPaperId } });
    }
  }
};
</script>
<style scoped>
/* 保持原有的CSS样式 */
app-container {
  display: flex;
  min-height: 100vh;
}

.main-content {
  flex: 1;
  padding: 20px;
  margin-left: 290px; /* 等于侧边栏宽度 */
  width: calc(100% - 290px);
  box-sizing: border-box;
}

.paper-container {
  width: 100%;
  max-width: 1200px;
  margin-top: 50px;
}

.header {
  color: #333;
  margin-bottom: 20px;
  font-size: 24px;  /* 设置具体像素值 */
  text-align: center;
}


.paper-list {
  width: 100%;
  max-height: 400px;
  overflow: auto;
  border: 1px solid #ddd;
  background-color: #f0f8ff;
  border-radius: 4px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  box-sizing: border-box;
}

.paper-section {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.sticky-title {
  position: sticky;
  top: 0;
  left: 0;
  margin: 0;
  padding: 15px;
  background-color: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
  color: #003366;
  z-index: 20;
  width: 100%;
  box-sizing: border-box;
}

table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  table-layout: auto;
}

thead tr {
  position: sticky;
  top: 0;
  z-index: 10;
  background-color: #f3e5ff !important;
  background-image: linear-gradient(to bottom, #f3e5ff, #e6d1f9);
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

thead th {
  padding: 12px 15px;
  text-align: left;
  background-color: #f8f9fa;
  color: #003366;
  font-weight: 600;
  border-bottom: 2px solid #d8bfd8;
}

tbody tr {
  cursor: pointer;
  transition: background-color 0.2s;
}

tbody tr td {
  padding: 12px 15px;
  border-bottom: 1px solid #dee2e6;
  color: #333;
}

tbody tr.highlight {
  background-color: #e6f7ff !important;
  color: #003366 !important;
}

tbody tr:hover:not(.highlight) {
  background-color: #f8f9fa;
}

.submit-btn-container {
  display: flex;
  justify-content: center;
  width: 100%;
  margin-top: 20px;
}

.submit-btn {
  margin-top: 20px;
  padding: 10px 20px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  transition: background-color 0.2s;
}

.submit-btn:hover {
  background-color: #45a049;
}

.paper-list::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.paper-list::-webkit-scrollbar-track {
  background: #f1f1f1;
}

.paper-list::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 4px;
}

.paper-list::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}
</style>
上述代码实现了选中相关试卷，然后点击就会进入考试页面
现在我希望对上述代码优化，增加一个功能
当双击某行则弹出一个页面，该页面展示该用户是否做过该试卷，
逻辑是从下面的表中根据双击哪行的exam_paper_Id以及当前的user_id查询：
mysql> describe user_test_record;
+----------------+-------------+------+-----+---------+----------------+
| Field          | Type        | Null | Key | Default | Extra          |
+----------------+-------------+------+-----+---------+----------------+
| test_id        | bigint      | NO   | PRI | NULL    | auto_increment |
| correct_number | int         | NO   |     | NULL    |                |
| test_score     | int         | NO   |     | NULL    |                |
| test_time      | datetime(6) | YES  |     | NULL    |                |
| exam_paper_id  | bigint      | YES  | MUL | NULL    |                |
| user_id        | bigint      | YES  | MUL | NULL    |                |
+----------------+-------------+------+-----+---------+----------------+
如果存在，那就在弹出页面生成一个列表
列表展示 历史考试记录，包括以下字段，试卷名称  exam_paper_name ,考试时间  test_time，得分 ,当点击具体某一行时，
在列表下方按照下面的代码展示具体的题目的答题情况：
<template>
  <div class="result-container">
    <h1 class="header">考试结果</h1>

    <div class="summary">
      <h2>{{ examPaper.examPaperName }}</h2>
      <p>总题数: {{ total }} 题</p>
      <p>答对: {{ correctNumber }} 题</p>
      <p>得分: {{ testScore }} 分</p>
    </div>

    <div class="detail-section">
      <h3>单选题</h3>
      <table>
        <thead>
        <tr>
          <th>题号</th>
          <th>你的答案</th>
          <th>正确答案</th>
          <th>结果</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="(answer, number) in singleChoiceUserAnswers" :key="'sc'+number">
          <td>{{ number }}</td>
          <td>{{ answer }}</td>
          <td>{{ singleChoiceCorrectAnswers[number] }}</td>
          <td :class="answer === singleChoiceCorrectAnswers[number] ? 'correct' : 'wrong'">
            {{ answer === singleChoiceCorrectAnswers[number] ? '✓' : '✗' }}
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="detail-section">
      <h3>判断题</h3>
      <table>
        <thead>
        <tr>
          <th>题号</th>
          <th>你的答案</th>
          <th>正确答案</th>
          <th>结果</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="(answer, number) in judgeUserAnswers" :key="'jq'+number">
          <td>{{ number }}</td>
          <td>{{ answer }}</td>
          <td>{{ judgeCorrectAnswers[number] }}</td>
          <td :class="answer === judgeCorrectAnswers[number] ? 'correct' : 'wrong'">
            {{ answer === judgeCorrectAnswers[number] ? '✓' : '✗' }}
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="back-btn-container">
      <button class="back-btn" @click="goBack">返回试卷列表</button>
    </div>
  </div>
</template>

<script>
export default {

  name: 'TestResult',

  data() {
    return {
      examPaper: {},
      total: 0,
      correctNumber: 0,
      testScore: 0,
      singleChoiceUserAnswers: {},
      judgeUserAnswers: {},
      singleChoiceCorrectAnswers: {},
      judgeCorrectAnswers: {}
    };
  },
  created() {

      this.loadResultData();

  },
  methods: {
    loadResultData() {
      const resultData = JSON.parse(sessionStorage.getItem('test_result'));
      if (resultData) {
        this.examPaper = resultData.examPaper || {};
        this.total = resultData.total || 0;
        this.correctNumber = resultData.correctNumber || 0;
        this.testScore = resultData.testScore || 0;
        this.singleChoiceUserAnswers = resultData.singleChoiceUserAnswers || {};
        this.judgeUserAnswers = resultData.judgeUserAnswers || {};
        this.singleChoiceCorrectAnswers = resultData.singleChoiceCorrectAnswers || {};
        this.judgeCorrectAnswers = resultData.judgeCorrectAnswers || {};
      } else {
        this.$router.push({ name: 'PaperTest' });
      }
    },
    goBack() {
      this.$router.push({ name: 'PaperTest' });
    }
  }
};
</script>

<style scoped>
.result-container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.header {
  text-align: center;
  color: #003366;
  margin-bottom: 30px;
}

.summary {
  background-color: #f5f5f5;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 30px;
  text-align: center;
}

.summary h2 {
  color: #333;
  margin-bottom: 15px;
}

.summary p {
  font-size: 18px;
  margin: 10px 0;
  color: #555;
}

.detail-section {
  margin-bottom: 30px;
}

.detail-section h3 {
  color: #333;
  margin-bottom: 15px;
  padding-bottom: 5px;
  border-bottom: 1px solid #ddd;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 20px;
}

table, th, td {
  border: 1px solid #ddd;
}

th, td {
  padding: 12px;
  text-align: left;
}

th {
  background-color: #f2f2f2;
}

tr:nth-child(even) {
  background-color: #f9f9f9;
}

.correct {
  color: green;
  font-weight: bold;
}

.wrong {
  color: red;
  font-weight: bold;
}

.back-btn-container {
  text-align: center;
  margin-top: 30px;
}

.back-btn {
  padding: 12px 30px;
  background-color: #2196F3;
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.back-btn:hover {
  background-color: #0b7dda;
}
</style>
可以将testresult.vue作为一个组件，展示在列表的下方。
但是其数据来源sessionStorage.getItem('test_result')
要在选中列表某行后去准备好
另外列表初始加载就要让第一行高亮，且加载该次考试的详情
下面是涉及的表，考试详情表，里面记录了每道题用户的答案：
mysql> describe user_test_record_detail;
+-----------------+--------------+------+-----+---------+----------------+
| Field           | Type         | Null | Key | Default | Extra          |
+-----------------+--------------+------+-----+---------+----------------+
| id              | bigint       | NO   | PRI | NULL    | auto_increment |
| correct_answer  | varchar(255) | YES  |     | NULL    |                |
| question_number | int          | NO   |     | NULL    |                |
| question_type   | varchar(255) | YES  |     | NULL    |                |
| user_answer     | varchar(255) | YES  |     | NULL    |                |
| test_id         | bigint       | YES  | MUL | NULL    |                |
+-----------------+--------------+------+-----+---------+----------------+
6 rows in set (0.00 sec)
通过这个表和question表：
sql> describe question;
+----------------+--------------+------+-----+---------+----------------+
| Field          | Type         | Null | Key | Default | Extra          |
+----------------+--------------+------+-----+---------+----------------+
| question_type  | varchar(31)  | NO   |     | NULL    |                |
| id             | bigint       | NO   | PRI | NULL    | auto_increment |
| content        | varchar(255) | YES  |     | NULL    |                |
| type           | varchar(255) | YES  |     | NULL    |                |
| correct_answer | varchar(255) | YES  |     | NULL    |                |
| optiona        | varchar(255) | YES  |     | NULL    |                |
| optionb        | varchar(255) | YES  |     | NULL    |                |
| optionc        | varchar(255) | YES  |     | NULL    |                |
| optiond        | varchar(255) | YES  |     | NULL    |                |
| exam_paper_id  | bigint       | YES  | MUL | NULL    |                |
| number         | int          | NO   |     | NULL    |                |
+----------------+--------------+------+-----+---------+----------------+
可以得到每道题的情况和实际解答情况
实体类如下：
试卷类
package seucxxy.csd.examinint.entity;



import java.util.List;

public class ExamPaper {
    private Long id;
    private String examPaperName;
    private String examPaperContent;
    private String examPaperDifficulty;
    private int examPaperQuestionNumber;
    private String examPaperSubject;
    private List<Question> questions;

    // Getters and Setters
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getExamPaperName() {
        return examPaperName;
    }

    public void setExamPaperName(String examPaperName) {
        this.examPaperName = examPaperName;
    }

    public String getExamPaperContent() {
        return examPaperContent;
    }

    public void setExamPaperContent(String examPaperContent) {
        this.examPaperContent = examPaperContent;
    }

    public String getExamPaperDifficulty() {
        return examPaperDifficulty;
    }

    public void setExamPaperDifficulty(String examPaperDifficulty) {
        this.examPaperDifficulty = examPaperDifficulty;
    }

    public int getExamPaperQuestionNumber() {
        return examPaperQuestionNumber;
    }

    public void setExamPaperQuestionNumber(int examPaperQuestionNumber) {
        this.examPaperQuestionNumber = examPaperQuestionNumber;
    }

    public String getExamPaperSubject() {
        return examPaperSubject;
    }

    public void setExamPaperSubject(String examPaperSubject) {
        this.examPaperSubject = examPaperSubject;
    }

    public List<Question> getQuestions() {
        return questions;
    }

    public void setQuestions(List<Question> questions) {
        this.questions = questions;
    }
}

package seucxxy.csd.examinint.entity;


试题表
public class Question {
    private Long id;
    private String questionType; // 新增字段，对应数据库question_type
    private String type;
    private String content;
    private int number;
    private Long examPaperId;
    private String correctAnswer; // 移动到基类

    // Getters and Setters
    // 添加questionType的getter/setter
    public String getQuestionType() {
        return questionType;
    }

    public void setQuestionType(String questionType) {
        this.questionType = questionType;
    }

    // Getters and Setters
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getType() {
        return type;
    }

    public void setType(String type) {
        this.type = type;
    }

    public String getContent() {
        return content;
    }

    public void setContent(String content) {
        this.content = content;
    }

    public int getNumber() {
        return number;
    }

    public void setNumber(int number) {
        this.number = number;
    }

    public Long getExamPaperId() {
        return examPaperId;
    }

    public void setExamPaperId(Long examPaperId) {
        this.examPaperId = examPaperId;
    }


    public String getCorrectAnswer() {
        return correctAnswer;
    }

    public void setCorrectAnswer(String correctAnswer) {
        this.correctAnswer = correctAnswer;
    }
}


用户试卷关系表
create table examinai.user_exam_paper
(
    id            bigint auto_increment
        primary key,
    exam_paper_id bigint       null,
    username      varchar(255) null,
    constraint FKrc0jkhn2itdd06u0bvdcq5lh4
        foreign key (exam_paper_id) references examinai.exam_paper (id),
    constraint fk_user_exam_paper_exam_paper_id
        foreign key (exam_paper_id) references examinai.exam_paper (id)
);

ackage seucxxy.csd.examinint.entity;



public class SingleChoiceQuestion extends Question {
    private String optionA;
    private String optionB;
    private String optionC;
    private String optionD;


    // Getters and Setters
    public String getOptionA() {
        return optionA;
    }

    public void setOptionA(String optionA) {
        this.optionA = optionA;
    }

    public String getOptionB() {
        return optionB;
    }

    public void setOptionB(String optionB) {
        this.optionB = optionB;
    }

    public String getOptionC() {
        return optionC;
    }

    public void setOptionC(String optionC) {
        this.optionC = optionC;
    }

    public String getOptionD() {
        return optionD;
    }

    public void setOptionD(String optionD) {
        this.optionD = optionD;
    }

}
package seucxxy.csd.examinint.entity;



public class JudgeQuestion extends Question {



}



用户试卷关系类
package seucxxy.csd.examinint.entity;


public class UserExamPaper {
    private Long id;
    private Long examPaperId;
    private String username;

    // Getters and Setters
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public Long getExamPaperId() {
        return examPaperId;
    }

    public void setExamPaperId(Long examPaperId) {
        this.examPaperId = examPaperId;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }
}
package seucxxy.csd.examinint.entity;



import java.time.LocalDateTime;

public class UserTestRecord {
    private Long testId;
    private int correctNumber;
    private int testScore;
    private LocalDateTime testTime;
    private Long examPaperId;
    private Long userId;

    // Getters and Setters
    public Long getTestId() {
        return testId;
    }

    public void setTestId(Long testId) {
        this.testId = testId;
    }

    public int getCorrectNumber() {
        return correctNumber;
    }

    public void setCorrectNumber(int correctNumber) {
        this.correctNumber = correctNumber;
    }

    public int getTestScore() {
        return testScore;
    }

    public void setTestScore(int testScore) {
        this.testScore = testScore;
    }

    public LocalDateTime getTestTime() {
        return testTime;
    }

    public void setTestTime(LocalDateTime testTime) {
        this.testTime = testTime;
    }

    public Long getExamPaperId() {
        return examPaperId;
    }

    public void setExamPaperId(Long examPaperId) {
        this.examPaperId = examPaperId;
    }

    public Long getUserId() {
        return userId;
    }

    public void setUserId(Long userId) {
        this.userId = userId;
    }
}
package seucxxy.csd.examinint.entity;




public class UserTestRecordDetail {
    private Long id;
    private String correctAnswer;
    private int questionNumber;
    private String questionType;
    private String userAnswer;
    private Long testId;

    // Getters and Setters
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getCorrectAnswer() {
        return correctAnswer;
    }

    public void setCorrectAnswer(String correctAnswer) {
        this.correctAnswer = correctAnswer;
    }

    public int getQuestionNumber() {
        return questionNumber;
    }

    public void setQuestionNumber(int questionNumber) {
        this.questionNumber = questionNumber;
    }

    public String getQuestionType() {
        return questionType;
    }
    public void setQuestionType(String questionType) {
        this.questionType = questionType;
    }

    public String getUserAnswer() {
        return questionType;
    }
    public void setUserAnswer(String UserAnswer) {
        this.userAnswer = userAnswer;
    }

    public Long getTestId() {
        return testId;
    }
    public void setTestId(Long testId) {
        this.testId= testId;
    }

}
请用spring boot+MVC+MyBatis+vue给出完整的代码，注意实体类的代码不要动，testresult.vue这个组件代码不要动，
我想复用原来的，然后给出完整代码，标明文件名，所在目录